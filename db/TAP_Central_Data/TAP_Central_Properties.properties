TYPE_QUERY	SELECT ?entity WHERE {?entity <http://www.w3.org/1999/02/22-rdf-syntax-ns#type>  <@entity@>;}
PROPERTY_QUERY	CONSTRUCT {?subject ?contains ?attribute.} WHERE { {?x <http://www.w3.org/2000/01/rdf-schema#label> <@entity@> ;} {?y <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Relation/Contains> ;}{?x ?y ?z .}}

DBCM_DATA_NEIGHBORHOOD	SELECT DISTINCT ?focus ?predicate ?object WHERE {{?focus <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;}{?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/DataObject> ;}{?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Provide> ;}{?focus <http://www.w3.org/2000/01/rdf-schema#label> ?name ;}{?focus ?predicate ?object}FILTER (?name in (FILTER_VALUES))}

DBCM_ICD_NEIGHBORHOOD	SELECT DISTINCT ?focus ?predicate ?object WHERE {{?focus <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;}{?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/InterfaceControlDocument> ;}{?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Provide> ;}{?focus <http://www.w3.org/2000/01/rdf-schema#label> ?name ;}{?focus ?predicate ?object}FILTER (?name in (FILTER_VALUES))}

DBCM_SW_NEIGHBORHOOD	SELECT DISTINCT ?focus ?predicate ?object WHERE {{?focus <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;}{?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/SoftwareModule> ;}{?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Consists> ;}{?focus <http://www.w3.org/2000/01/rdf-schema#label> ?name ;}{?focus ?predicate ?object}FILTER (?name in (FILTER_VALUES))}


#Base Predicate and Object search queries
NEIGHBORHOOD_OBJECT_QUERY	SELECT  DISTINCT ?object WHERE {BIND (@URI@ AS ?subject). ?subject ?predicate ?object. MINUS {?subject <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?object} MINUS{ ?subject <http://www.w3.org/2000/01/rdf-schema#label> ?object. } }
NEIGHBORHOOD_OBJECT_QUERY_2	SELECT  DISTINCT ?subject WHERE {BIND (@URI@ AS ?object). ?subject ?predicate ?object;}
NEIGHBORHOOD_PREDICATE_QUERY	SELECT  DISTINCT ?predicate WHERE {BIND (@URI@ AS ?subject). ?subject ?predicate ?object;}
NEIGHBORHOOD_PREDICATE_QUERY_2	SELECT  DISTINCT ?predicate WHERE {BIND (@URI@ AS ?object). ?subject ?predicate ?object;}
NEIGHBORHOOD_OBJECT_ALT_QUERY	SELECT  DISTINCT ?object WHERE {BIND (@URI@ AS ?subject). ?subject ?predicate ?object; }
NEIGHBORHOOD_OBJECT_ALT_QUERY_2	SELECT  DISTINCT ?subject WHERE {BIND (@URI@ AS ?object). ?subject ?predicate ?object; }

NEIGHBORHOOD_PREDICATE_ALT_QUERY	SELECT  DISTINCT ?predicate WHERE {?subject <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object; }
NEIGHBORHOOD_PREDICATE_ALT_QUERY_2	SELECT  DISTINCT ?predicate WHERE {?object <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object; }

NEIGHBORHOOD_OBJECT_ALT2_QUERY	SELECT  DISTINCT ?object WHERE {?subject <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <@SUBJECT_TYPE@>. ?subject ?predicate ?object; }
NEIGHBORHOOD_OBJECT_ALT2_QUERY_2	SELECT  DISTINCT ?subject WHERE {?object <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <@SUBJECT_TYPE@>. ?subject ?predicate ?object; }

SPARQL: SELECT  ?subject ?predicate ?object WHERE {?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/DataObject>. ?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/Service>. ?subject ?predicate ?object. ?object <http://www.w3.org/2000/01/rdf-schema#label> ?name; FILTER (?name in ("Benefits Eligibility Information","Allergy Information","Benefits Enrollment Information","Appointment","Claims Processing Data","Facility","Encounter Information","Patient Demographics and Information","Patient Administration","Billing Data","Cost Accounting Information","Discharge Order","Labor Productivity Information","Patient Test Results","Insurance Information","Patient Immunization","Consent Form","Patient Health Record","Nutrition Management","Patient Treatment Plan","Patient ID","Provider Information","Patient Schedule","Order Information","Patient Vital Signs","Referral Information","Staff Schedule","Patient Implant Information","Population Health","Pharmacy","Salary and Compensation Information"))}
FILTER (?name in (@FILTER_VALUES@))


# Neighbor Hood Queries
NEIGHBORHOOD_OBJECT_TYPE_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> @PREDICATE@. BIND (@URI@ AS ?subject). ?subject ?predicate ?object. }
NEIGHBORHOOD_OBJECT_TYPE_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?subject <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> @PREDICATE@. BIND (@URI@ AS ?object). ?subject ?predicate ?object. }

NEIGHBORHOOD_OBJECT_TYPE_ALT2_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?object <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> @PREDICATE@. ?subject <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object. }
NEIGHBORHOOD_OBJECT_TYPE_ALT2_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?subject <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> @PREDICATE@. ?object <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object. }

NEIGHBORHOOD_OBJECT_INSTANCE_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {BIND (@URI@ AS ?subject). BIND (@PREDICATE@ AS ?object). ?subject ?predicate ?object.}
NEIGHBORHOOD_OBJECT_INSTANCE_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {BIND (@URI@ AS ?object). BIND (@PREDICATE@ AS ?subject). ?subject ?predicate ?object.}

NEIGHBORHOOD_OBJECT_INSTANCE_ALT_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?object <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. BIND (@URI@ AS ?subject). ?subject ?predicate ?object. }
NEIGHBORHOOD_OBJECT_INSTANCE_ALT_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?subject <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. BIND (@URI@ AS ?object). ?subject ?predicate ?object. }

NEIGHBORHOOD_OBJECT_INSTANCE_ALT2_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?object <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. ?subject <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object.}
NEIGHBORHOOD_OBJECT_INSTANCE_ALT2_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?subject <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. ?object <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object.}



NEIGHBORHOOD_PREDICATE_TYPE_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> @PREDICATE@. BIND (@URI@ AS ?subject). ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_TYPE_ALT2_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> @PREDICATE@. ?subject <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_INSTANCE_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {BIND (@URI@ AS ?subject). BIND (@PREDICATE@ AS ?object). ?subject ?predicate ?object. }


NEIGHBORHOOD_PREDICATE_TYPE_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> @PREDICATE@. BIND (@URI@ AS ?object). ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_TYPE_ALT2_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> @PREDICATE@. ?object <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_INSTANCE_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {BIND (@URI@ AS ?object). BIND (@PREDICATE@ AS ?subject). ?subject ?predicate ?object. }

# Used when predicate is ill formed i.e. has a space
NEIGHBORHOOD_PREDICATE_INSTANCE_ALT_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. BIND (@URI@ AS ?subject). ?subject ?predicate ?object. }
NEIGHBORHOOD_PREDICATE_INSTANCE_ALT_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. BIND (@URI@ AS ?object). ?subject ?predicate ?object. }
#Used when both predicate 
NEIGHBORHOOD_PREDICATE_INSTANCE_ALT2_PAINTER_QUERY	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. ?subject <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_INSTANCE_ALT2_PAINTER_QUERY_2	SELECT  ?subject ?predicate ?object WHERE {?predicate <http://www.w3.org/2000/01/rdf-schema#label> @PREDICATE@. ?object <http://www.w3.org/2000/01/rdf-schema#label> @URI@. ?subject ?predicate ?object.}


# Find predicate
NEIGHBORHOOD_PREDICATE_FINDER_QUERY	SELECT  DISTINCT ?predicate WHERE {BIND (@SUBJECT@ AS ?subject). BIND (@OBJECT@ AS ?object). ?subject ?predicate ?object. }
NEIGHBORHOOD_PREDICATE_ALT2_FINDER_QUERY	SELECT  ?predicate WHERE {?subject <http://www.w3.org/2000/01/rdf-schema#label> @SUBJECT@.  BIND (@OBJECT@ AS ?object). ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_ALT3_FINDER_QUERY	SELECT  ?predicate WHERE {?subject <http://www.w3.org/2000/01/rdf-schema#label> @SUBJECT@.  ?object <http://www.w3.org/2000/01/rdf-schema#label> @OBJECT@. ?subject ?predicate ?object. }

NEIGHBORHOOD_PREDICATE_FINDER_QUERY_2	SELECT  DISTINCT ?predicate WHERE {BIND (@SUBJECT@ AS ?object). BIND (@OBJECT@ AS ?subject). ?subject ?predicate ?object. }
NEIGHBORHOOD_PREDICATE_ALT2_FINDER_QUERY_2	SELECT  ?predicate WHERE {?object <http://www.w3.org/2000/01/rdf-schema#label> @SUBJECT@.  BIND (@OBJECT@ AS ?subject). ?subject ?predicate ?object.}
NEIGHBORHOOD_PREDICATE_ALT3_FINDER_QUERY_2	SELECT  ?predicate WHERE {?object <http://www.w3.org/2000/01/rdf-schema#label> @SUBJECT@.  ?subject <http://www.w3.org/2000/01/rdf-schema#label> @OBJECT@. ?subject ?predicate ?object. }

# Transition Cost Insert Queries
TRANSITION_COST_INSERT_WITH_OVERHEAD	INSERT {?GLitem ?pred ?combinedTOTAL} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?pred). {SELECT DISTINCT ?GLitem (ROUND(SUM((?multipliedTotal*(1+?Rate)))) AS ?combinedTOTAL) WHERE { {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> .} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Includes> AS ?contains) {?glItemCoreTask <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/GLItemCoreTask> ;} {?GLitem ?contains ?glItemCoreTask .} {SELECT DISTINCT ?glItemCoreTask (SUM(?factor*?LOE) AS ?multipliedTotal) WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Includes> AS ?contains2) {?GLItemSubTask <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/GLItemSubTask> ;} {?glItemCoreTask ?contains2 ?GLItemSubTask ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Estimated> AS ?type) {?TargetPhaseBasisSubTaskComplexityComplexity <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/TargetPhaseBasisSubTaskComplexityComplexity> ;} {?GLItemSubTask ?type ?TargetPhaseBasisSubTaskComplexityComplexity ;} {?GLItemSubTask <http://health.mil/ontologies/dbcm/Relation/Contains/Factor> ?factor ;}{?TargetPhaseBasisSubTaskComplexityComplexity <http://health.mil/ontologies/dbcm/Relation/Contains/LOE> ?LOE ;}} GROUP BY ?glItemCoreTask }{SELECT DISTINCT ?glItemCoreTask (SUM(?rate) AS ?Rate) WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/TypeOf> AS ?TypeOf) {?TargetPhaseBasisCoreTask <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/TargetPhaseBasisCoreTask> ;} {?glItemCoreTask ?TypeOf ?TargetPhaseBasisCoreTask ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Incurs> AS ?incurs) {?TargetOverheadItem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/TargetOverheadItem> ;} {?TargetPhaseBasisCoreTask ?incurs ?TargetOverheadItem ;} {?TargetOverheadItem <http://health.mil/ontologies/dbcm/Relation/Contains/Rate> ?rate ;} } GROUP BY ?glItemCoreTask}}GROUP BY ?GLitem}}
TRANSITION_COST_INSERT_WITHOUT_OVERHEAD	INSERT {?GLitem ?pred ?combinedTOTAL} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?pred). {SELECT DISTINCT ?GLitem (ROUND(SUM((?multipliedTotal))) AS ?combinedTOTAL) WHERE { {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> .} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Includes> AS ?contains) {?glItemCoreTask <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/GLItemCoreTask> ;} {?GLitem ?contains ?glItemCoreTask .} {SELECT DISTINCT ?glItemCoreTask (SUM(?factor*?LOE) AS ?multipliedTotal) WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Includes> AS ?contains2) {?GLItemSubTask <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/GLItemSubTask> ;} {?glItemCoreTask ?contains2 ?GLItemSubTask ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Estimated> AS ?type) {?TargetPhaseBasisSubTaskComplexityComplexity <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/TargetPhaseBasisSubTaskComplexityComplexity> ;} {?GLItemSubTask ?type ?TargetPhaseBasisSubTaskComplexityComplexity ;} {?GLItemSubTask <http://health.mil/ontologies/dbcm/Relation/Contains/Factor> ?factor ;}{?TargetPhaseBasisSubTaskComplexityComplexity <http://health.mil/ontologies/dbcm/Relation/Contains/LOE> ?LOE ;}} GROUP BY ?glItemCoreTask }}GROUP BY ?GLitem}}
TRANSITION_COST_INSERT_SITEGLITEM	INSERT {?GLitem ?pred ?combinedTOTAL} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?pred). {SELECT DISTINCT ?GLitem (COUNT(DISTINCT(?sysDCsite)) AS ?Count) (SAMPLE(?sys) AS ?Sys) (SAMPLE(?complex) AS ?Complex) (SAMPLE(?factor) AS ?Factor) (ROUND(COUNT(DISTINCT(?sysDCsite))*?Factor) AS ?combinedTOTAL) WHERE { {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/TransitionGLItem/SystemDCSiteGLItem> ;} {?input <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Input>;} {?sysDCsite <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/SystemDCSite> ;} {?sysDCsite ?input ?GLitem ;} {?deployed <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/DeployedAt>;} {?sys <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;} {?sys ?deployed ?sysDCsite ;} {?rated <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Rated>;} {?complex <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/Complexity> ;} {?sys ?rated ?complex ;} {?complex <http://health.mil/ontologies/dbcm/Relation/Contains/SiteDeploymentLOE> ?factor ;} } GROUP BY ?GLitem}}
TRANSITION_COST_DELETE	DELETE {?s ?p ?o} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?p ). {?s ?p ?o.}}
TRANSITION_COST_INSERT_SUSTAINMENT INSERT {?GLitem ?pred ?combinedTOTAL} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?pred). {SELECT DISTINCT ?GLitem (ROUND(SUM(?LOE)*(SAMPLE(?rate))) AS ?combinedTOTAL) WHERE { {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> .} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/TransitionGLItem/SustainmentGLItem> ;} {?GLitem2 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Influences> AS ?influences)  BIND(<http://health.mil/ontologies/dbcm/Relation/Influences> AS ?influences2) {?system <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;} {?system ?influences ?GLitem ;} {?system ?influences2 ?GLitem2 ;} {?GLitem2 <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?LOE ;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/Rate> ?rate ;} {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} BIND(<http://health.mil/ontologies/dbcm/Relation/BelongsTo> AS ?belongs ) {?GLitem2 ?belongs ?phase ;} } GROUP BY ?GLitem}}
TRANSITION_COST_INSERT_TRAINING INSERT {?GLitem ?pred ?combinedTOTAL} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?pred). {SELECT DISTINCT ?GLitem (ROUND(SUM(?LOE)*(SAMPLE(?rate))) AS ?combinedTOTAL) WHERE { {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> .} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/TransitionGLItem/TrainingGLItem> ;} {?GLitem2 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Influences> AS ?influences)  BIND(<http://health.mil/ontologies/dbcm/Relation/Influences> AS ?influences2) {?system <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;} {?system ?influences ?GLitem ;} {?system ?influences2 ?GLitem2 ;} {?GLitem2 <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?LOE ;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/Rate> ?rate ;} {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;}  BIND(<http://health.mil/ontologies/dbcm/Relation/BelongsTo> AS ?belongs ) {?GLitem2 ?belongs ?phase ;}} GROUP BY ?GLitem}}
TRANSITION_COST_INSERT_SEMANTICS INSERT {?GLitem ?pred ?combinedTOTAL} WHERE { BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> AS ?pred). {SELECT DISTINCT ?GLitem (ROUND(SUM(?LOE)*(SAMPLE(?rate))/2) AS ?combinedTOTAL) WHERE { {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> .} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/TransitionGLItem/SemanticsGLItem> ;} {?GLitem2 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Influences> AS ?influences)  BIND(<http://health.mil/ontologies/dbcm/Relation/Influences> AS ?influences2) {?system <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System> ;} {?system ?influences ?GLitem ;} {?system ?influences2 ?GLitem2 ;} {?GLitem2 <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?LOE ;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/Rate> ?rate ;} {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} BIND(<http://health.mil/ontologies/dbcm/Relation/BelongsTo> AS ?belongs ) {?GLitem2 ?belongs ?phase ;}{?tagged <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/TaggedBy>;} {?GLitem2 ?tagged <http://health.mil/ontologies/dbcm/Concept/GLTag/Provider>;} BIND(<http://health.mil/ontologies/dbcm/Relation/Input> AS ?input) {?data <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/DataObject> ;} {?data ?input ?GLitem2 ;} } GROUP BY ?GLitem}}

#Distance Downstream Queries
DISTANCE_DOWNSTREAM_QUERY	CONSTRUCT {?Data1 ?provide ?System1. ?System2 ?passes ?System3. ?passes ?contains ?prop. ?provide ?contains2 ?crm.} WHERE { BIND( <http://health.mil/ontologies/dbcm/Concept/DataObject/@Data-Data@> AS ?Data1). { {?System1 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System>;} {?provide <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Provide>;}{?System1 ?provide ?Data1 ;} BIND(<http://health.mil/ontologies/dbcm/Relation/Contains/CRM> AS ?contains2). {?provide ?contains2 ?crm ;} } UNION { BIND(URI(CONCAT("http://health.mil/ontologies/dbcm/Relation/", SUBSTR(STR(?System2), 50), ":", SUBSTR(STR(?System3), 50))) AS ?passes).{?System2 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System>;} {?System3 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/System>;} {?carries <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Payload>;} {?contains <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Relation/Contains> ;} {?icd1 <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/InterfaceControlDocument>;} {?upstream1 <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Provide>;}{?downstream1 <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Consume>;} {?System2 ?upstream1 ?icd1 ;}{?icd1 ?downstream1 ?System3;}{?icd1 ?carries ?Data1;} {?carries ?contains ?prop ;} } } BINDINGS ?crm {("C") ("M")}

#SOA Transition All Data Query
SOA_TRANSITION_ALL_DATA_QUERY SELECT DISTINCT ?phase ?data ?sys (COALESCE(?ser, "None") AS ?Output) (ROUND(?loe) AS ?LOE) ?start ?gltag WHERE {BIND(<http://health.mil/ontologies/dbcm/Concept/System/@System@> AS ?sys) {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> ;} {?gltag <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/GLTag> ;}{?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} {?tagged <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/TaggedBy>;} {?GLitem ?tagged ?gltag;} {?influences <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Influences>;}{?sys ?influences ?GLitem ;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?loe;}  {?phase <http://health.mil/ontologies/dbcm/Relation/Contains/StartDate> ?start ;} {?belongs <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/BelongsTo>;} {?GLitem ?belongs ?phase ;} {?ser <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/Service> ;} {?output <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Output>;} {?GLitem ?output ?ser ;} {?input <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Input>;} {?data ?input ?GLitem} {?data <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/DataObject> ;} {?data <http://www.w3.org/2000/01/rdf-schema#label> ?name;} }ORDER BY DESC(?LOE)BINDINGS ?name {@FILTER_VALUES@}

SOA_TRANSITION_ALL_BLU_QUERY SELECT DISTINCT ?phase ?blu ?sys (COALESCE(?ser, "None") AS ?Output) (ROUND(?loe) AS ?LOE) ?start ?gltag WHERE { BIND( <http://health.mil/ontologies/dbcm/Concept/GLTag/Provider> AS ?gltag) BIND(<http://health.mil/ontologies/dbcm/Concept/System/@System@> AS ?sys)  {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> ;} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} {?tagged <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/TaggedBy>;} {?GLitem ?tagged ?gltag;} {?influences <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Influences>;}{?sys ?influences ?GLitem ;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?loe;}  {?phase <http://health.mil/ontologies/dbcm/Relation/Contains/StartDate> ?start ;} {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?belongs <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/BelongsTo>;} {?GLitem ?belongs ?phase ;} {?ser <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/Service> ;} {?output <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Output>;} {?GLitem ?output ?ser ;} {?ser <http://www.w3.org/2000/01/rdf-schema#label> ?name;} {?input <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Input>;} {?blu ?input ?GLitem} {?blu <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/BusinessLogicUnit> ;} }ORDER BY DESC(?LOE)


SOA_TRANSITION_ALL_GENERIC_DATA_QUERY	SELECT DISTINCT ?phase ?data ("" AS ?sys) (COALESCE(?ser, "None") AS ?Output) (ROUND(?loe) AS ?LOE) ?start ?gltag  WHERE {  {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> ;} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} {?tagged <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/TaggedBy>;} {?GLitem ?tagged ?gltag;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?loe;}  {?phase <http://health.mil/ontologies/dbcm/Relation/Contains/StartDate> ?start ;} {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?belongs <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/BelongsTo>;} {?GLitem ?belongs ?phase ;} {?input <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Input>;} {?data ?input ?GLitem} {?data <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/DataObject> ;} BIND( <http://health.mil/ontologies/dbcm/Concept/GLTag/Generic> AS ?gltag). {?output <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Output>;}  {?ser <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/Service> ;}{?GLitem ?output ?ser ;}  {?ser <http://www.w3.org/2000/01/rdf-schema#label> ?name;}} ORDER BY DESC(?LOE) BINDINGS ?name {@FILTER_VALUES@}

SOA_TRANSITION_ALL_GENERIC_BLU_QUERY	SELECT DISTINCT ?phase ?blu ("" AS ?sys) (COALESCE(?ser, "None") AS ?Output) (ROUND(?loe) AS ?LOE) ?start ?gltag WHERE {  {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> <http://health.mil/ontologies/dbcm/GLItem/TransitionGLItem> ;} {?GLitem <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?subclass ;} {?tagged <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/TaggedBy>;} {?GLitem ?tagged ?gltag;} {?GLitem <http://health.mil/ontologies/dbcm/Relation/Contains/LOEcalc> ?loe;}  {?phase <http://health.mil/ontologies/dbcm/Relation/Contains/StartDate> ?start ;} {?phase <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/SDLC/SDLCPhase> ;} {?belongs <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/BelongsTo>;} {?GLitem ?belongs ?phase ;}{?output <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Output>;}  {?ser <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/Service> ;}{?GLitem ?output ?ser ;} {?ser <http://www.w3.org/2000/01/rdf-schema#label> ?name;}  {?input <http://www.w3.org/2000/01/rdf-schema#subPropertyOf> <http://health.mil/ontologies/dbcm/Relation/Input>;} {?blu ?input ?GLitem} {?blu <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://health.mil/ontologies/dbcm/Concept/BusinessLogicUnit> ;} BIND( <http://health.mil/ontologies/dbcm/Concept/GLTag/Generic> AS ?gltag). }ORDER BY DESC(?LOE)BINDINGS ?name {@FILTER_VALUES@}
