[
  {
    "query": "AddPanel ( 0 ) ;Panel ( 0 ) | AddPanelConfig ( config = [ { \"config\" : { \"type\" : \"STANDARD\" , \"opacity\" : 100 } } ] ) ;Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"<encode>UnfilterFrame(<SelectedColumn>);</encode>\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"<encode>if(IsEmpty(<SelectedValues>), UnfilterFrame(<SelectedColumn>), SetFrameFilter(<SelectedColumn>==<SelectedValues>));</encode>\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;Panel ( 0 ) | RetrievePanelEvents ( ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" , \"<encode>{\"type\":\"echarts\"}</encode>\" ) ;AuditDatabase ( app = [ \"<<ENGINE>>\"],tables=[<Table>], columns= [<Altered_Column>], dateTimeField=[<dateField>], value=[<timeValue>] );Panel ( 0 ) | Clone ( 1 ) ;Panel ( 1 ) | SetPanelView ( \"visualization\" ) ;Panel ( 1 ) | AddPanelConfig ( config = [ { \"config\" : { \"subType\" : \"\" } } ] ) ;Panel ( 1 ) | SetPanelView ( \"visualization\" , \"<encode>{\"type\":\"echarts\"}</encode>\" ) ;if(  (HasDuplicates(Modification_Date)) , (Select(Modification_Date, UniqueCount(Modification_Date)).as([Modification_Date, UniqueCountofModification_Date])|Group(Modification_Date)|With(Panel(1))|Format(type=['table'])|TaskOptions({\"1\":{\"layout\":\"Line\",\"alignment\":{\"label\":[\"Modification_Date\"],\"value\":[\"UniqueCountofModification_Date\"],\"tooltip\":[],\"facet\":[]}}})|Collect(500)) , (Select(Modification_Date, Count(Modification_Date)).as([Modification_Date, CountofModification_Date])|Group(Modification_Date)|With(Panel(1))|Format(type=['table'])|TaskOptions({\"1\":{\"layout\":\"Line\",\"alignment\":{\"label\":[\"Modification_Date\"],\"value\":[\"CountofModification_Date\"],\"tooltip\":[],\"facet\":[]}}})|Collect(500)) );Panel ( 0 ) | SetPanelView ( \"visualization\" , \"<encode>{\"type\":\"standard\"}</encode>\" ) ;Panel ( 0 ) | SetPanelView ( \"text-widget\" , \"<encode>{\"html\":\"<style>  .container { margin-left: 20px;} .mod-container { background-color: #033d84; color: white; height: 100px;}.mod-info {margin-left: 35px;}.total-mod {font-size: xx-large;  }.Col-Header {color: #143f5b;}.audit-container {float: left;display: contents;  }  .audit-output {    margin-bottom: 10px;    margin-top: 25px;    height: 130px;  }  .Audit-Element {    margin-top: -3px;    margin-bottom: -3px;    color: #323a45;  }  .audit-type {    float: left;    width: 20px;    height: 130px;    margin-right: 5px;  }  .type-insert {    background-color: green;    height: 130px;  }  .type-delete {    background-color: red;    height: 130px;  }  .type-update {    background-color: blue;    height: 130px;  }  .arrow {    margin-left: 7px;    margin-right: 8px;    font-weight: bolder;  }</style><div class=\\\"big-container\\\">  <div    class=\\\"mod-container\\\"    ng-repeat=\\\"Mod in Audit_Mods[0].output.data.values\\\"  >    <div class=\\\"mod-info\\\">      <p class=\\\"total-mod\\\">{{ Mod[0] }}<br />Total Modifications</p>    </div>  </div>  <div class=\\\"container\\\" ng-repeat=\\\"Audit in Audit_Table[0].output.data.values\\\">    <div class=\\\"audit-container\\\">      <div class=\\\"audit-type\\\"><div ng-class=\\\"{'type-insert': Audit[6] == 'INSERT', 'type-delete': Audit[6] == 'DELETE', 'type-update': Audit[6] == 'UPDATE'}\\\">  <span class=\\\"span-type-bar\\\"></span></div>      </div>      <div class=\\\"audit-output\\\"><h3 class=\\\"Audit-Element\\\">  <span class=\\\"Col-Header\\\">Type</span>:  {{ Audit[6] | replaceUnderscores }}</h3><h3 class=\\\"Audit-Element\\\">  <span class=\\\"Col-Header\\\">Altered Column</span>:  {{ Audit[0] | replaceUnderscores }}</h3><h3 class=\\\"Audit-Element\\\">  <span class=\\\"Col-Header\\\">Key Column Value</span>:  {{ Audit[1] | replaceUnderscores }}</h3><h3 class=\\\"Audit-Element\\\"><span class=\\\"Col-Header\\\">Old Value</span>: {{ Audit[2] | replaceUnderscores }} <span class=\\\"arrow\\\">&rArr;</span><span class=\\\"Col-Header\\\">New Value</span>: {{ Audit[3] | replaceUnderscores }}</h3><h3 class=\\\"Audit-Element\\\">  <span class=\\\"Col-Header\\\">Modification_Date</span>:  {{ Audit[4] | replaceUnderscores }}</h3><h3 class=\\\"Audit-Element\\\">  <span class=\\\"Col-Header\\\">User_Email</span>:  {{ Audit[5] | replaceUnderscores }}</h3>      </div>    </div>  </div></div>\",\"varList\":[{\"name\":\"Audit_Table\",\"query\":\"Select ( Altered_Column , Key_Column_Value , Old_Value , New_Value , Modification_Date , User_Email, Modification_Type ) | Order (columns = [\\\"Modification_Date\\\",\\\"Key_Column_Value\\\"], sort = [\\\"desc\\\"] ) |CollectAll();\"},{\"name\":\"Audit_Mods\",\"query\":\"Select (UniqueCount(Modification_Date)) | CollectAll();\"}],\"freeze\":false}</encode>\" ) ;Panel ( 0 ) | SetPanelLabel (\"Audit Log\");Panel ( 1 ) | SetPanelLabel (\"Audit Timeline View\");AddPanel(2);Panel(2)|AddPanelConfig(config=[{\"config\":{\"type\":\"COLLAPSIBLE\",\"opacity\":100,\"subType\":\"\"},\"label\":\"User_Email Filter\"}]);Panel(2)|SetPanelView(\"DashboardFilter\");Panel(2)|AddPanelOrnaments({\"dashboardFilter\":{\"singleSelect\":\"Multi Select\",\"viewType\":\"List\",\"instances\":[\"User_Email\"]}})|RetrievePanelOrnaments(\"dashboardFilter\");",
    "label": "<<INSIGHT_NAME>>",
    "description": "Please select parameters for the insight",
    "params": [
      {
        "paramName": "Table",
        "required": true,
        "useSelectedValues": true,
        "view": {
          "displayType": "dropdown",
          "label": "Select the Altered Table",
          "attributes": {
            "searchable": true,
            "quickselect": true
          }
        },
        "model": {
          "query": "GetDatabaseConcepts(database=[\"<<ENGINE>>\"]);"
        }
      },
      {
        "paramName": "Altered_Column",
        "required": true,
        "useSelectedValues": true,
        "view": {
          "displayType": "checklist",
          "label": "Select the Altered_Column",
          "attributes": {
            "searchable": true,
            "multiple": true,
            "quickselect": true
          }
        },
        "model": {
          "query": "GetSpecificConceptProperties(database=[\"<<ENGINE>>\"], concept=[<Table>]);",
          "dependsOn": [
            "Table"
          ]
        }
      },
      {
        "paramName": "timeValue",
        "view": {
          "displayType": "number",
          "label": "View modifications made in the last (3 MONTHS)"
        },
        "model": {
          "defaultValue": "3"
        }
      },
      {
        "paramName": "dateField",
        "view": {
          "displayType": "dropdown",
          "label": "(Choose date field)"
        },
        "model": {
          "defaultOptions": [
            "YEAR",
            "MONTH",
            "WEEK",
            "DAY",
            "HOUR",
            "MINUTE"
          ],
          "defaultValue": "MONTH"
        }
      }
    ],
    "execute": "button"
  }
]