
description= Test Filter two items, unfilter one, filter another item, unfilter both
engineProp=C:\\Users\\rramirezjimenez\\workspace\\Semoss\\db\\movie.smss
engine=movie
pkqlScript=data.frame('grid');data.import ( api: movie . query ( [ c: Title , c: Title__MovieBudget , c: Title__RevenueDomestic , c: Title__RevenueInternational , c: Title__RottenTomatoesAudience , c: Title__RottenTomatoesCritics , c: Nominated , c: Studio , c: Genre , c: Director ] , ( [ c: Title , inner.join , c: Nominated ] , [ c: Title , inner.join , c: Studio ] , [ c: Title , inner.join , c: Genre ] , [ c: Title , inner.join , c: Director ] ) ) ) ; panel[0].viz ( Column , [ label= c: Studio , value= m: Average ( [ c: RevenueDomestic ] [ c: Studio ] ) ] ) ; col.filter ( c: Studio = [ \"Buena_Vista\" , \"Destination\" , \"Dimension_Films\" , \"Dreamworks\" , \"Fine_Line\" , \"First\" , \"Focus\" , \"Focus_Features\" , \"Fox\" , \"Fox_Searchlight\" , \"Freestyle\" , \"Gramercy\" , \"IDP\" , \"Lionsgate\" , \"MGM\" , \"MGM-UA\" , \"Millenium_Entertainment\" , \"Miramax\" , \"Music_Box_Films\" , \"New_Line\" , \"October\" , \"Open_Road_Films\" , \"Orion_Pictures\" , \"Overture_Films\" , \"Paramount\" , \"Polygram\" , \"Relativity\" , \"Roadside_Attractions\" , \"Rogue_Pictures\" , \"Sony\" , \"Summit\" , \"Summit_Entertainment\" , \"Trimark\" , \"USA\" , \"Universal\" , \"WB\" , \"Warner_Independent\" , \"Weinstein_Company\" ] ) ; col.filter ( c: Studio = [ \"Buena_Vista\" , \"CBS\" , \"Destination\" , \"Dimension_Films\" , \"Dreamworks\" , \"Fine_Line\" , \"First\" , \"Focus\" , \"Focus_Features\" , \"Fox\" , \"Fox_Searchlight\" , \"Freestyle\" , \"Gramercy\" , \"IDP\" , \"Lionsgate\" , \"MGM\" , \"MGM-UA\" , \"Millenium_Entertainment\" , \"Miramax\" , \"Music_Box_Films\" , \"New_Line\" , \"October\" , \"Open_Road_Films\" , \"Orion_Pictures\" , \"Overture_Films\" , \"Paramount\" , \"Polygram\" , \"Relativity\" , \"Roadside_Attractions\" , \"Rogue_Pictures\" , \"Sony\" , \"Summit\" , \"Summit_Entertainment\" , \"Trimark\" , \"USA\" , \"Universal\" , \"WB\" , \"Warner_Independent\" , \"Weinstein_Company\" ] ) ; col.filter ( c: Studio = [ \"CBS\" , \"Destination\" , \"Dimension_Films\" , \"Dreamworks\" , \"Fine_Line\" , \"First\" , \"Focus\" , \"Focus_Features\" , \"Fox\" , \"Fox_Searchlight\" , \"Freestyle\" , \"Gramercy\" , \"IDP\" , \"Lionsgate\" , \"MGM\" , \"MGM-UA\" , \"Millenium_Entertainment\" , \"Miramax\" , \"Music_Box_Films\" , \"New_Line\" , \"October\" , \"Open_Road_Films\" , \"Orion_Pictures\" , \"Overture_Films\" , \"Paramount\" , \"Polygram\" , \"Relativity\" , \"Roadside_Attractions\" , \"Rogue_Pictures\" , \"Sony\" , \"Summit\" , \"Summit_Entertainment\" , \"Trimark\" , \"USA\" , \"Universal\" , \"WB\" , \"Warner_Independent\" , \"Weinstein_Company\" ] ) ; col.unfilter ( c: Studio ) ;
expectedOutput= {\"insights\":[{\"newColumns\":{},\"pkqlData\":[{\"result\":\"Unfiltered Column: Studio\",\"additionalInfo\":\"{}\",\"label\":\"Unfiltered column Studio\",\"command\":\"col.unfilter ( c: Studio ) ; \",\"status\":\"SUCCESS\"},{\"result\":\"Successfully set layout to Column with alignment [ label= c: Studio , value= m: Average ( [ c: RevenueDomestic ] [ c: Studio ] ) ] \",\"panelId\":\"0\",\"additionalInfo\":\"{}\",\"label\":\"Created Column visualization using [All Columns Selected]\",\"command\":\"panel[0].viz ( Column , [ label= c: Studio , value= m: Average ( [ c: RevenueDomestic ] [ c: Studio ] ) ] ) ; \",\"status\":\"SUCCESS\"}],\"feData\":{\"0\":{\"chartData\":{\"layout\":\"Column\",\"dataTableKeys\":[{\"vizType\":\"label\",\"type\":\"STRING\",\"uri\":\"Studio\",\"operation\":{},\"varKey\":\"Studio\"},{\"vizType\":\"value\",\"type\":\"NUMBER\",\"uri\":\"Average_RevenueDomestic\",\"operation\":{\"formula\":\"m: Average ( [ c: RevenueDomestic ] [ c: Studio ] )\",\"calculatedBy\":[\"RevenueDomestic\"],\"groupBy\":[\"Studio\"],\"math\":\"Average\"},\"varKey\":\"Average_RevenueDomestic\"}],\"dataTableValues\":[[\"Overture_Films\",11895243],[\"Freestyle\",16298046],[\"Roadside_Attractions\",6393251.5],[\"Miramax\",57311937.7037037],[\"Lionsgate\",54298491.15],[\"Summit\",58058561.14285714],[\"New_Line\",119079662.33333333],[\"Focus_Features\",26326332],[\"Artisan\",7645551],[\"MGM\",41387749.28571428],[\"Sony\",76307198.26666667],[\"WB\",76103047.81034483],[\"Open_Road_Films\",14083000],[\"Universal\",70057134.67567568],[\"Music_Box_Films\",7638241],[\"Destination\",16500786],[\"USA\",82712170],[\"Millenium_Entertainment\",9206000],[\"Summit_Entertainment\",28228843],[\"Fox\",58943086.666666664],[\"Relativity\",19787384.333333332],[\"Orion_Pictures\",14818176],[\"Weinstein_Company\",60682311.916666664],[\"Dreamworks\",111329016.22222222],[\"Dimension_Films\",101363301],[\"Buena_Vista\",103814960.43478261],[\"Warner_Independent\",31558003],[\"Fox_Searchlight\",26030133.166666668],[\"CBS\",28956642.75],[\"October\",13417292],[\"MGM-UA\",27237477.333333332],[\"Rogue_Pictures\",11795274],[\"Fine_Line\",35892330],[\"Focus\",31948216.076923076],[\"IDP\",21250683],[\"Polygram\",8341087],[\"First\",5318679],[\"Trimark\",9475741.5],[\"Paramount\",83974821.37837838],[\"Gramercy\",27347337]]},\"panelId\":\"0\",\"pkqlData\":[{\"result\":\"Successfully set layout to Column with alignment [ label= c: Studio , value= m: Average ( [ c: RevenueDomestic ] [ c: Studio ] ) ] \",\"panelId\":\"0\",\"additionalInfo\":\"{}\",\"label\":\"Created Column visualization using [All Columns Selected]\",\"command\":\"panel[0].viz ( Column , [ label= c: Studio , value= m: Average ( [ c: RevenueDomestic ] [ c: Studio ] ) ] ) ; \",\"status\":\"SUCCESS\"}]}},\"dataID\":5,\"clear\":false,\"insightID\":\"3_aefQkX5MdgLmt2N6A\",\"newInsights\":[]}]}

